<?xml version = "1.0" encoding = "UTF-8"?>
<!DOCTYPE mapper PUBLIC
        "-//mybatis.org//DTD com.example.Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.csdl.smartplacenew.mapper.AudioMapper">
    <resultMap id="result" type="com.csdl.smartplacenew.pojo.Audio">
        <result property="id" column="id"/>
        <result property="url" column="url" />
        <result property="platenumberid" column="platenumberid" />
        <result property="roadnumberid" column="roadnumberid" />
        <result property="villagenumberid" column="villagenumberid" />
        <result property="scenicspotid" column="scenicspotid" />
        <result property="roadid" column="roadid" />
        <result property="status" column="status" />
        <result property="userid" column="userid" />
    </resultMap>


    <insert id="addAudio">

        insert into audio (url,platenumberid,roadnumberid,villagenumberid,scenicspotid,roadid,status,userid)
        values
         (#{url}, #{platenumberid},#{roadnumberid},#{villagenumberid},#{scenicspotid},#{roadid},1,#{userId})

   </insert>


    <select id="getAudioByUrl" resultMap="result">

        select *  from audio where url=#{url} and status=1
    </select>



    <select id="getAudioByPlatenumberid" resultType="string">

        select url  from audio where platenumberid=#{platenumberid} and status=1  and userid=#{userid}
    </select>


    <select id="getAudioByRoadnumberid" resultType="string">

        select url  from audio where roadnumberid=#{roadnumberid} and status=1  and userid=#{userid}
    </select>


    <select id="getAudioByVillagenumberid" resultType="string">

        select url  from audio where villagenumberid=#{villagenumberid} and status=1  and userid=#{userid}
    </select>


    <select id="getAudioByScenicspotid" resultType="string">

        select url  from audio where scenicspotid=#{scenicspotid}  and status=1 and userid=#{userid}

    </select>


    <select id="getAudioByRoadid" resultType="string">

        select url  from audio where roadid=#{roadid} and status=1
    </select>





    <update id="delAudioByPlatenumberUrl" >

             update audio set status=0 where url=#{url} and  userid=#{userid}


    </update>


    <update id="delAudioByRoadnumberUrl">

         update audio set status=0 where  url=#{url} and  userid=#{userid}

    </update>


    <update id="delAudioByVillagenumberUrl">

       update audio set status=0 where  url=#{url} and  userid=#{userid}

    </update>


    <update id="delAudioByScenicspotUrl">

    update audio set status=0 where  url=#{url} and  userid=#{userid}

    </update>


    <update id="delAudioByRoadUrl">

    update audio set status=0 where  url=#{url} and  userid=#{userid}

    </update>


    <select id="getAudioListByPlatenumberid" resultMap="result">

        select  *  from audio where platenumberid=#{platenumberid} and status=1
    </select>


    <select id="getAudioListByRoadnumberid" resultMap="result">

        select  *  from audio where roadnumberid=#{roadnumberid}  and status=1

    </select>


    <select id="getAudioListByVillagenumberid" resultMap="result">

        select  *  from audio where villagenumberid=#{villagenumberid}  and status=1

    </select>


    <select id="getAudioListByScenicspotid" resultMap="result">

        select  *  from audio where scenicspotid=#{scenicspotid}  and status=1

    </select>


    <select id="getAudioListByRoadid" resultMap="result">

        select  *  from audio where roadid=#{roadid} and status=1

    </select>


</mapper>